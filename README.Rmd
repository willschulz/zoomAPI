---
output: github_document
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  eval = FALSE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
library(knitr)
```

# zoomAPI

An R wrapper for the Zoom API.  See API Reference here: https://marketplace.zoom.us/docs/api-reference/introduction.

## Getting Started

```{r}
devtools::install_github("willschulz/zoomAPI")
library(zoomAPI)
```

To get started using the zoom API, you must create an OAuth app accessible to your Zoom account, which must be Pro or higher (this includes Education accounts).


```{r eval=FALSE}
makeToken(client_id = "XXXXXXX", client_secret = "YYYYYYY", redirect_uri = "https://www.ZZZZZZZ.com", app_name = "")

```

## User Info

```{r}
listUser()
```

This should return your own user information.  If it does not, there has been an error.

## Meeting Info

```{r}
my_meetings <- listUserMeetings()
my_meetings

meeting_info <- meetingInfo(meeting_id = my_meetings$id[1])
meeting_info

meeting_polls <- listMeetingPolls(meeting_id = my_meetings$id[1])
meeting_polls

meeting_poll_results <- getMeetingPollsResults(meeting_id = my_meetings$id[1])
meeting_poll_results
```

## Templates

```{r}
listTemplates()

```


## Create Meetings and Register Participants

```{r}
#createMeeting(topic = "test_topic", start_time = "2021-08-22T17:35:00", duration = 10)

#create a meeting starting in 1 minute:
new_meeting <- createMeeting(topic = "test_meeting", start_time = as.POSIXct(Sys.time() + 60), duration = 10)

new_meeting <- createMeeting(topic = "approval_type_0_attempt_3", start_time = as.POSIXct(Sys.time() + 60), duration = 10, settings = list(approval_type = 0))

new_meeting

new_meeting$settings$approval_type

new_meeting$settings$reg
```


Now we can register participants for this meeting.

```{r}
test_registrant <- addRegistrant(meeting_id = new_meeting$id, email = "william.small.schulz@gmail.com", first_name = "Test Registrant 1")
test_registrant

listMeetingRegistrants(meeting_id = new_meeting$id)
```


```{r}




```




```{r}
zoomAPI::listRecordings()

```

